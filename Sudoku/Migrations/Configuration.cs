namespace Sudoku.Migrations
{
    using Sudoku.Models;
    using System;
    using System.Data.Entity;
    using System.Data.Entity.Migrations;
    using System.IO;
    using System.Linq;
    using System.Web.Hosting;

    public sealed class Configuration : DbMigrationsConfiguration<Sudoku.Models.SudokuDbContext>
    {
        public Configuration()
        {
            AutomaticMigrationDataLossAllowed = true;
        }

        protected override void Seed(Sudoku.Models.SudokuDbContext context)
        {
            string[] boards = 
            { 
                "4.....8.5.3..........7......2.....6.....8.4......1.......6.3.7.5..2.....1.4......",
                "52...6.........7.13...........4..8..6......5...........418.........3..2...87.....",
                "6.....8.3.4.7.................5.4.7.3..2.....1.6.......2.....5.....8.6......1....",
                "48.3............71.2.......7.5....6....2..8.............1.76...3.....4......5....",
                "....14....3....2...7..........9...3.6.1.............8.2.....1.4....5.6.....7.8...",
                "......52..8.4......3...9...5.1...6..2..7........3.....6...1..........7.4.......3.",
                "6.2.5.........3.4..........43...8....1....2........7..5..27...........81...6.....",
                ".524.........7.1..............8.2...3.....6...9.5.....1.6.3...........897........",
                "6.2.5.........4.3..........43...8....1....2........7..5..27...........81...6.....",
                ".923.........8.1...........1.7.4...........658.........6.5.2...4.....7.....9.....",
                "6..3.2....5.....1..........7.26............543.........8.15........4.2........7..",
            };

            string[] easyBoards = 
            {
                "..3.2.6..9..3.5..1..18.64....81.29..7.......8..67.82....26.95..8..2.3..9..5.1.3..",
                "2...8.3...6..7..84.3.5..2.9...1.54.8.........4.27.6...3.1..7.4.72..4..6...4.1...3",
                "......9.7...42.18....7.5.261..9.4....5.....4....5.7..992.1.8....34.59...5.7......",
                ".3..5..4...8.1.5..46.....12.7.5.2.8....6.3....4.1.9.3.25.....98..1.2.6...8..6..2.",
                ".2.81.74.7....31...9...28.5..9.4..874..2.8..316..3.2..3.27...6...56....8.76.51.9.",
                "1..92....524.1...........7..5...81.2.........4.27...9..6...........3.945....71..6",
                ".43.8.25.6.............1.949....4.7....6.8....1.2....382.5.............5.34.9.71.",
                "48...69.2..2..8..19..37..6.84..1.2....37.41....1.6..49.2..85..77..9..6..6.92...18",
                "...9....2.5.1234...3....16.9.8.......7.....9.......2.5.91....5...7439.2.4....7...",
            };


            for (int i = 0; i < boards.Length; i++)
            {
                context.Boards.AddOrUpdate(
                    b => b.Content,
                    new Board
                    {
                        Content = boards[i],
                        Difficulty = Difficulty.Hard
                    });
            }

            for (int i = 0; i < easyBoards.Length; i++)
            {
                context.Boards.AddOrUpdate(
                    b => b.Content,
                    new Board
                    {
                        Content = easyBoards[i],
                        Difficulty = Difficulty.Easy
                    });
            }

            context.SaveChanges();
        }
    }
}
